# Contributing to the LaunchClear Knowledge Base

This guide covers how to contribute to the legal provisions, enforcement cases,
and artifact templates that power LaunchClear's compliance engine.

## Why Accuracy Matters

LaunchClear generates compliance artifacts that product teams hand to their
legal counsel. Every factual claim in the knowledge base — article numbers,
effective dates, fine amounts, legal requirements — must be traceable to a
primary source. Inaccurate legal information is worse than no information.

## Contribution Requirements

### For Provision Files (`knowledge/provisions/**/*.md`)

Every provision file **must** include:

1. **YAML Frontmatter** with the following required fields:

   ```yaml
   ---
   id: "jurisdiction-law-topic"
   law: "Full official law name"
   articles: ["Article 1", "Article 2"]
   effectiveDate: "YYYY-MM-DD" or null
   generatedBy: "author-name or model-name"
   sources:
     - id: "citation-registry-id"
       articles: ["Article 1-2"]
   verification:
     status: "in-review"    # MUST be at least "in-review", never "unverified"
     lastAuditDate: null
     auditor: null
     issues: []
   ---
   ```

2. **Primary Source Citations**: At least one source must be a primary legal
   text (legislation, official gazette, government publication), not secondary
   commentary. Source IDs reference `knowledge/citations.json`.

3. **Inline Citation Keys**: Every factual claim (article number, date,
   threshold, requirement) should include a bracketed citation key:

   ```markdown
   AI systems used for credit scoring are classified as **high-risk**
   [eurlex-ai-act, Annex III §5(a)].
   ```

4. **No Unverified Content at Merge**: The `verification.status` field must
   be at least `"in-review"` before a PR can merge. Content cannot remain
   `"unverified"`.

5. **LLM Provenance**: If any content was generated by an LLM, the
   `generatedBy` field must specify the model (e.g., `"claude-opus-4"`).

### For Enforcement Cases (`knowledge/enforcement/cases.json`)

Each case must include:

- **Decision-specific URL**: Must point to the actual decision, press release,
  or court filing — not a homepage. Generic URLs (e.g., `https://www.cac.gov.cn`)
  are flagged by CI and must be replaced.

- **Verified fine amount**: The `fineCurrency` field must be set, and the
  `verification.fineVerified` flag should be `true` once confirmed against
  the primary source.

- **Accurate dates**: The `date` field should be the decision/ruling date,
  not the press release date (these sometimes differ).

- **Sources array**: At least one entry with the official decision or press
  release URL.

### For Citation Registry (`knowledge/citations.json`)

When adding a new primary source:

- Use a descriptive, kebab-case ID (e.g., `eurlex-ai-act`, `cn-cac-genai-measures`)
- Include the official document reference where applicable
- Prefer official government URLs over third-party summaries
- For non-English sources, include both the official-language URL and an
  English translation source (as `secondary-analysis` type)

### For Artifact Templates (`knowledge/templates/*.md`)

- Template section structure must align with actual regulatory requirements
  (e.g., a GDPR DPIA template should have sections matching ICO guidance)
- Each section should note which legal provision requires it
- Mark optional vs. required sections clearly

## Verification Workflow

### Phase A: Structural Verification (anyone with legal training)

1. Open the primary source URL listed in the frontmatter
2. Verify the document/regulation number is correct
3. Verify every cited article number exists in the official text
4. Verify each article's subject heading matches the description
5. Verify effective dates and quantitative thresholds
6. Update `verification.status` to `"in-review"` and fill `auditor` field

### Phase B: Content Accuracy (requires legal expertise)

1. Compare paraphrased legal requirements against official text
2. Flag statements that add meaning not present in the source
3. Flag omissions of material qualifications
4. Flag interpretive statements not supported by official guidance
5. Record issues in `verification.issues[]`

### Phase C: Mark as Verified

Once both Phase A and B are complete:

1. Set `verification.status` to `"verified"`
2. Set `verification.lastAuditDate` to today's date
3. Set `verification.auditor` to your name and credentials

## Primary Sources by Jurisdiction

| Jurisdiction | Primary Source | URL |
|---|---|---|
| EU (AI Act) | EUR-Lex | `https://eur-lex.europa.eu/legal-content/EN/TXT/?uri=CELEX:32024R1689` |
| EU (GDPR) | EUR-Lex | `https://eur-lex.europa.eu/legal-content/EN/TXT/?uri=CELEX:32016R0679` |
| US Federal | FTC.gov, NIST, congress.gov | Various — see `citations.json` |
| US States | State legislature sites | `leginfo.legislature.ca.gov`, `leg.colorado.gov`, etc. |
| UK | legislation.gov.uk, ICO | `https://www.legislation.gov.uk/`, `https://ico.org.uk/` |
| Singapore | SSO, PDPC, IMDA, MAS | `https://sso.agc.gov.sg/`, etc. |
| China | CAC (Chinese); DigiChina, China Law Translate (English) | `http://www.cac.gov.cn/` |
| Brazil | Senate, ANPD, Planalto (Portuguese) | `https://www.senado.leg.br/` |

## Running Verification Scripts

```bash
# Extract all verifiable claims from provision files
npx tsx scripts/extract-claims.ts

# Check all URLs are accessible
npx tsx scripts/verify-urls.ts

# Generate comprehensive audit report
npx tsx scripts/generate-audit-report.ts
```

## CI Checks

PRs touching `knowledge/` trigger automated checks:

1. **Frontmatter validation**: All provision files must have YAML frontmatter
2. **Claim extraction**: Factual claims are extracted and checked for citations
3. **URL validation**: All URLs are checked for accessibility
4. **Schema validation**: Enforcement cases must have required fields

A weekly cron job also checks all URLs for link rot and creates GitHub Issues
if any break.

## Questions?

Open an issue with the `knowledge-base` label or reach out to the maintainers.
